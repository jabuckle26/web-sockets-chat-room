(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{34:function(e,t,a){e.exports=a(73)},69:function(e,t){},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(32),s=a.n(r),l=a(1),m=a(33),o=a.n(m),u=a(4),i=a(9),E=function(e,t){switch(t.type){case"NEW_USERNAME":return e.userName=t.payload,Object(i.a)({},e);case"OPEN_CHAT":return e.isChatOpen=t.payload,Object(i.a)({},e);case"ADD_MEMBER":return e.chatMembers=[].concat(Object(u.a)(e.chatMembers),[t.payload]),Object(i.a)({},e);default:return e}},d={chatMembers:[],isChatOpen:!1,socket:o.a.connect("https://web-chat-socket-io-demo.herokuapp.com/"),userName:""},b=Object(n.createContext)(d),f=function(e){var t=e.children,a=Object(n.useReducer)(E,d),r=Object(l.a)(a,2),s=r[0],m=r[1];return c.a.createElement(b.Provider,{value:{addMember:function(e){m({type:"ADD_MEMBER",payload:e})},chatMembers:s.chatMembers,isChatOpen:s.isChatOpen,openChatWindow:function(){m({type:"OPEN_CHAT",payload:!0})},socket:s.socket,assignUserName:function(e){m({type:"NEW_USERNAME",payload:e})},userName:s.userName}},t)},h=function(){return c.a.createElement("nav",null,c.a.createElement("h1",null,c.a.createElement("i",{className:"fas fa-code"})," Chat Room"))},p=(a(72),function(e,t){return{text:"".concat(e," has ").concat(t," the chat!"),style:"notifyUserChange",sender:""}}),N=function(){var e=Object(n.useContext)(b),t=e.socket,a=e.userName,r=Object(n.useState)(""),s=Object(l.a)(r,2),m=s[0],o=s[1],i=Object(n.useState)([]),E=Object(l.a)(i,2),d=E[0],f=E[1];return Object(n.useEffect)((function(){t.on("messageFromServer",(function(e){f([].concat(Object(u.a)(d),[e]))})),t.on("newChatMember",(function(e){f([].concat(Object(u.a)(d),[p(e,"joined")]))})),t.on("chatMemberLeft",(function(e){f([].concat(Object(u.a)(d),[p(e,"left")]))}))})),c.a.createElement("div",{className:"chatWindow"},c.a.createElement("div",{className:"chatContainer"},c.a.createElement("div",{className:"chatTextOutput"},d.map((function(e){return"notifyUserChange"!==e.style?c.a.createElement("p",{className:e.style,key:e.text},c.a.createElement("span",{className:"sender"},"".concat(e.sender,": ")),e.text):c.a.createElement("p",{className:e.style,key:e.text},e.text)}))),c.a.createElement("div",{className:"typingFeedback"})),c.a.createElement("div",{className:"chatInputContainer"},c.a.createElement("textarea",{className:"messageInput",value:m,type:"textArea",onChange:function(e){return function(e){o(e.target.value)}(e)},placeholder:"Enter message..."}),c.a.createElement("button",{className:"sendButton",onClick:function(){t.emit("sendMessage",{text:m,sender:a,style:"message"}),o("")}},"Send")))},O=function(){var e=Object(n.useContext)(b).socket,t=Object(n.useState)([]),a=Object(l.a)(t,2),r=a[0],s=a[1];return Object(n.useEffect)((function(){e.on("updateChatMembers",(function(e){s(e)}))})),c.a.createElement("div",{className:"membersPane"},c.a.createElement("h3",{className:"membersPaneTitle"},"Chat Members"),c.a.createElement("div",{className:"membersContainer"},r.map((function(e){return c.a.createElement("ul",{key:e.name,className:"member"},e.name)}))))},C=function(){var e=Object(n.useContext)(b),t=e.addMember,a=e.assignUserName,r=(e.chatMembers,e.openChatWindow),s=e.socket,m=Object(n.useState)(!1),o=Object(l.a)(m,2),u=o[0],i=(o[1],Object(n.useState)("")),E=Object(l.a)(i,2),d=E[0],f=E[1];return c.a.createElement("section",{className:"landing"},c.a.createElement("div",{className:"landingCard"},c.a.createElement("h2",null,"Enter a username:"),c.a.createElement("div",{className:"loginInputContainer"},c.a.createElement("input",{className:"usernameRegistration",value:d,type:"text",onChange:function(e){return function(e){f(e.target.value)}(e)},placeholder:"Username..."}),c.a.createElement("button",{className:"enterButton",onClick:function(){return s.emit("userLogin",d),t({id:s.id,name:d}),a(d),void r()}},"Enter")),u&&c.a.createElement("p",{className:"warningText"},"Username already in use! Please try a different one.")))},j=function(){var e=Object(n.useContext)(b).isChatOpen;return c.a.createElement("section",{className:"chatRoom"},e?c.a.createElement(c.a.Fragment,null,c.a.createElement(N,null),c.a.createElement(O,null)):c.a.createElement(C,null))},y=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(h,null),c.a.createElement(f,null,c.a.createElement(j,null)))};s.a.render(c.a.createElement(y,null),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.2b4c9f1a.chunk.js.map